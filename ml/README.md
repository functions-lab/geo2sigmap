# Geo2SigMap: High-Fidelity RF Signal Mapping Using Geographic Databases
[![arXiv](https://img.shields.io/badge/arXiv-2312.14303-green?color=FF8000?color=009922)](https://arxiv.org/abs/2312.14303)
[![Code License](https://img.shields.io/badge/Code%20License-Apache_2.0-yellow.svg)](https://github.com/dvlab-research/LongLoRA/blob/main/LICENSE)


Welcome to the Geo2SigMap. Here are the documents for our cascade U-Net architecture. 

## TABLE OF CONTENTS
1. [Overview](#overview)
2. [Installation](#installation)
3. [Example Usage](#example-usage)
4. [License](#license)

## Overview

* **We Develops a novel cascaded U-Net architecture that achieves significantly improved signal strength (SS) map prediction accuracy compared to existing baseline methods based on channel models and ML.**

   
## Installation

1. Install [CUDA](https://developer.nvidia.com/cuda-downloads)
2. Install [Pytorch](https://pytorch.org/get-started/locally/)
3. Install dependencies
   ```console
   pip install -r requirements.txt
   ```



## Example Usage

### Download Data


### Train the First U-Net

```console
python train_RT.py --learning-rate 1e-3 --pathloss_multi_modality --median-filter-size 3 --loss-alpha 0 --building-height-map-dir=data/synthetic/Oct05_1034_a747d4/Bl_building_npy --ground-truth-dir=data/synthetic/Oct05_1034_a747d4/Oct10_1523_RXcross_TXiso-cross_SampleNum7e6_cmres4/
```

### Train the Second U-Net

```console
python train_transfomer_learning.py --learning-rate 1e-3  --median-filter-size 1 --loss-alpha 0 --sparse-point 200 --building-height-map-dir=data/synthetic/Oct05_1034_a747d4/Bl_building_npy --ground-truth-dir=data/synthetic/Oct05_1034_a747d4/Oct12_2003_RXcross_TXtr38901-cross_SampleNum7e6_cmres4/ --transfer-learning-map-dir=data/synthetic/Oct05_1034_a747d4/prediction_result_121
```

### Prediction

    .
    ├── data
    │   ├── measurement
    │   ├── generated
    │   │   ├── Jan05_1837_01b9be                                                 # Step 1: Each folder for a given region
    │   │   │   ├── Area_b2l_result.txt                                           #         Each line recorded the area's GPS coordinate and b2l ratio
    │   │   │   ├── Filtered_Area_b2l_result.txt                                  #         Same as above but filtered with bl2 ratio > THRESHOLD
    │   │   │   ├── OSM_download                                                  #         OSM XML file,  each .xml file for a given area
    │   │   │   │   ├── 77ecdcb3-f018-4606-81f9-5694be5ec41d.xml                     
    │   │   │   │   └── ...
    │   │   │   ├── Bl_building_npy                                               # Step 2: 2D building height maps, each .npy file for a given area
    │   │   │   │   ├── 77ecdcb3-f018-4606-81f9-5694be5ec41d.npy                      
    │   │   │   │   └── ...
    │   │   │   ├── Bl_xml_files                                                  # Step 2: 3D Building Meshs
    │   │   │   │   ├── 77ecdcb3-f018-4606-81f9-5694be5ec41d                      #         Each folder for a given area   
    │   │   │   │   │   ├── meshes
    │   │   │   │   │   │   ├── xxxx.ply                                          #         Details mesh info about each building inside this area
    │   │   │   │   │   │   └── ...
    │   │   │   │   │   ├── 77ecdcb3-f018-4606-81f9-5694be5ec41d.xml              #         Manifest for all buildings' mesh info
    │   │   │   │   │   └── ...
    │   │   │   │   └── ...
    │   │   │   └── Jan05_1837_RXcross_TXtr38901-cross_SampleNum7e6_cmres4        # Step 3: Signal coverage map generated by Sioona RT, 
    │   │   │       │                                                                            each folder for a given TX and RX settings.
    │   │   │       ├── 77ecdcb3-f018-4606-81f9-5694be5ec41d_-244_-244_21_82.npy  #         Each file for a given TX position and angle.
    │   │   │       └── ...
    │   │   └── ...

    




## License

Distributed under the APACHE LICENSE, VERSION 2.0
